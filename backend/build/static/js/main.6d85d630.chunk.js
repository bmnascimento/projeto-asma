(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{53:function(e,t,a){e.exports=a(83)},58:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),o=(a(58),a(5)),u=a(8),m=a(6),s=a(14),i=a.n(s),d=a(21),p=a(16),E=a(18),h=a(50),b=a(26),f=a(49),g=a(17),v=a(27),N=a(52),j=a(9),O=a.n(j),y={login:function(){var e=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat("/api/login","/usuario"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e){var t=e.setUser,a=e.alertar,l=Object(n.useState)(""),c=Object(o.a)(l,2),u=c[0],s=c[1],h=Object(n.useState)(""),b=Object(o.a)(h,2),f=b[0],g=b[1],N=Object(n.useState)(!1),j=Object(o.a)(N,2),O=j[0],w=j[1],S=Object(n.useState)(!1),I=Object(o.a)(S,2),k=I[0],x=I[1],D=Object(m.g)(),C=function(){var e=Object(d.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,x(!0),e.next=5,y.login({rghg:u,password:f});case 5:r=e.sent,O&&window.localStorage.setItem("usuarioLogado",JSON.stringify(r)),t(r),x(!1),D.push("/"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),x(!1),a("Usu\xe1rio ou senha errados");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(p.a,{onSubmit:C},r.a.createElement(p.a.Group,{controlId:"RGHG"},r.a.createElement(p.a.Label,null,"RGHC"),r.a.createElement(p.a.Control,{type:"text",placeholder:"RGHG",value:u,onChange:function(e){var t=e.target;return s(t.value)}})),r.a.createElement(p.a.Group,{controlId:"Password"},r.a.createElement(p.a.Label,null,"Senha"),r.a.createElement(p.a.Control,{type:"password",placeholder:"Senha",value:f,onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{type:"checkbox",label:"Lembrar-me",checked:O,onChange:function(e){var t=e.target;return w(t.checked)}})),r.a.createElement(E.a,{variant:"primary",type:"submit"},k?r.a.createElement(v.a,{animation:"border",role:"status",size:"sm"}):"Entrar"))},S=function(e){var t=e.setUser,a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(g.a,{bg:"dark",variant:"dark"},r.a.createElement(g.a.Brand,null,"Login"))),r.a.createElement("main",{className:"bg-light"},r.a.createElement(f.a,null,c&&r.a.createElement(N.a,{variant:"danger",className:"mt-3"},c),r.a.createElement(h.a,{className:"justify-content-center"},r.a.createElement(b.a,{className:"col-md-5 col-lg-4 p-3 m-4 border"},r.a.createElement(w,{setUser:t,alertar:function(e){u(e),setTimeout((function(){return u(null)}),3e3)}}))))))},I=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},k=function(){return O.a.get("/api/patients").then((function(e){return e.data}))},x=function(e){return O.a.get("".concat("/api/patients","/").concat(e)).then((function(e){return e.data}))},D=function(e){return O.a.post("/api/patients",e).then((function(e){return e.data}))},C=function(e,t){return O.a.get("".concat("/api/patients","/data/").concat(e,"/").concat(I(t))).then((function(e){return e.data}))},F=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){k().then((function(e){return l(e)}))}),[]),r.a.createElement("div",{style:{width:"300px"}},r.a.createElement(u.b,{to:"/pacientes/cadastro"},r.a.createElement(E.a,{className:"float-right mt-1"},"Novo")),r.a.createElement("h1",null,"Pacientes"),a?r.a.createElement("div",{className:"list-group my-3"},a.map((function(e){return r.a.createElement(u.b,{to:"pacientes/".concat(e.id,"/resumo"),key:e.id,className:"list-group-item list-group-item-action text-primary"},e.name)}))):r.a.createElement("div",{className:"d-flex align-items-center my-3"},"Carregando...",r.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})))},A=function(){return r.a.createElement("div",{className:"border-right border-bottom border-left p-3"},r.a.createElement("h4",null,"Resumo"))},G=a(28),P=function(e){var t=e.linhas;return r.a.createElement("div",{className:"border-right border-bottom border-left p-3"},r.a.createElement("h4",null,"Dados"),r.a.createElement(G.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Data"),r.a.createElement("th",null,"n\xba de passos"),r.a.createElement("th",null,"Horas ativas"),r.a.createElement("th",null,"Horas Sedentarias"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.data},r.a.createElement("td",null,e.data),r.a.createElement("td",null,e.numPassos),r.a.createElement("td",null,e.minutosAtivos/60),r.a.createElement("td",null,e.minutosSedentarios/60))})))))},T=function(){return r.a.createElement("div",{className:"border-right border-bottom border-left p-3"},r.a.createElement("h4",null,"Metas"))},U=function(e,t){return console.log(e),O.a.get("".concat("/api/sintomas","/").concat(e,"/").concat(t)).then((function(e){return e.data}))},H=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},L=function(e){var t=e.id,a=Object(n.useState)([]),l=Object(o.a)(a,2),c=l[0],u=l[1];return Object(n.useEffect)((function(){for(var e=[],a=new Date,n=0;n<5;n++)e.push(U(t,H(a))),a.setDate(a.getDate()-1);Promise.all(e).then((function(e){var t=new Date;console.log(e);for(var a=function(a){var n=e[a];0!==n.length&&(u((function(e){return e.concat({data:H(t),tosse:n[0].tosse,faltaDeAr:n[0].faltaDeAr,bombinha:n[0].bombinha,acordar:n[0].acordar})})),console.log(n[0].tosse),console.log(n[0].faltaDeAr),console.log(n[0].bombinha),console.log(n[0].acordar)),t.setDate(t.getDate()-1)},n=0;n<5;n++)a(n)}))}),[t]),r.a.createElement("div",{className:"border-right border-bottom border-left p-3"},r.a.createElement("h4",null,"Dados"),r.a.createElement(G.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Data"),r.a.createElement("th",null,"Teve tosse?"),r.a.createElement("th",null,"Teve falta de ar?"),r.a.createElement("th",null,"Usou a bombinha?"),r.a.createElement("th",null,"Acordou de madrugada?"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{key:e.data},r.a.createElement("td",null,e.data),r.a.createElement("td",null,e.tosse&&"Teve"),r.a.createElement("td",null,e.faltaDeAr&&"Teve"),r.a.createElement("td",null,e.bombinha&&"Teve"),r.a.createElement("td",null,e.acordar&&"Teve"))})))))},M=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},R=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),p=s[0],E=s[1],h=Object(n.useState)(),b=Object(o.a)(h,2),f=b[0],g=b[1],N=Object(m.h)().id;Object(n.useEffect)((function(){(function(){var e=Object(d.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(N);case 2:if(t=e.sent,l(t),a=new Date(t.birthDate),g(M(a)),!t.fitbitId){e.next=8;break}return e.delegateYield(i.a.mark((function e(){var t,a,n,r,l,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],a=5,n=new Date,r=0;r<a;r++)t.push(C(N,n)),n.setDate(n.getDate()-1);return e.next=6,Promise.all(t);case 6:for(l=e.sent,n=new Date,c=function(e){var t=l[e];E((function(e){return e.concat({data:M(n),numPassos:t.summary.steps,minutosAtivos:t.summary.fairlyActiveMinutes+t.summary.veryActiveMinutes,minutosSedentarios:t.summary.sedentaryMinutes})})),n.setDate(n.getDate()-1)},o=0;o<a;o++)c(o);case 10:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]);var j=Object(m.i)().url;return r.a.createElement(r.a.Fragment,null,void 0===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{animation:"border",role:"status",size:"sm"})," Carregando..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,"Nome: ",a.name),r.a.createElement("div",null,"Peso: ",a.height," kg"),r.a.createElement("div",null,"Altura: ",a.weight," cm"),r.a.createElement("div",null,"Telefone: ",a.phone),r.a.createElement("div",null,"RGHC: ",a.rghg),r.a.createElement("div",null,"Data de Nascimento: ",f),r.a.createElement("div",null,"ID Fitbit: ",a.fitbitId?a.fitbitId:r.a.createElement("a",{href:"/auth/fitbit/".concat(N)},"Conectar ao Fitbit"))),r.a.createElement("br",null),r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"".concat(j,"/resumo"),className:"nav-link"},"Resumo")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"".concat(j,"/dados"),className:"nav-link"},"Dados")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"".concat(j,"/metas"),className:"nav-link"},"Metas")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(u.c,{to:"".concat(j,"/sintomas"),className:"nav-link"},"Sintomas"))),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"".concat(j,"/resumo")},r.a.createElement(A,null)),r.a.createElement(m.b,{path:"".concat(j,"/dados")},a.fitbitId?r.a.createElement(P,{linhas:p}):r.a.createElement("div",{className:"border-right border-bottom border-left p-3"},"N\xe3o h\xe1 conex\xe3o com Fitbit")),r.a.createElement(m.b,{path:"".concat(j,"/metas")},r.a.createElement(T,null)),r.a.createElement(m.b,{path:"".concat(j,"/sintomas")},r.a.createElement(L,{id:N})))))},B=function(){return O.a.get("/api/usuarios").then((function(e){return e.data}))},J=function(e){return O.a.post("/api/usuarios",e).then((function(e){return e.data}))},Y=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){B().then((function(e){return l(e)}))}),[]),r.a.createElement("div",{style:{width:"300px"}},r.a.createElement(u.b,{to:"/usuarios/cadastro"},r.a.createElement(E.a,{className:"float-right mt-1"},"Novo")),r.a.createElement("h1",null,"Usu\xe1rios"),a?r.a.createElement("div",{className:"list-group my-3"},a.map((function(e){return r.a.createElement("div",{key:e.id,className:"list-group-item d-flex justify-content-between align-items-center"},e.name," - ",e.rghg," ","admin"===e.type&&r.a.createElement("span",{class:"badge badge-primary badge-pill"},"Admin"))}))):r.a.createElement("div",{className:"d-flex align-items-center my-3"},"Carregando...",r.a.createElement("div",{className:"spinner-border ml-auto",role:"status","aria-hidden":"true"})))},z=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),s=u[0],i=u[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),f=Object(o.a)(b,2),g=f[0],v=f[1],N=Object(n.useState)(""),j=Object(o.a)(N,2),O=j[0],y=j[1],w=Object(n.useState)(""),S=Object(o.a)(w,2),I=S[0],k=S[1],x=Object(n.useState)(""),C=Object(o.a)(x,2),F=C[0],A=C[1],G=Object(n.useState)(""),P=Object(o.a)(G,2),T=P[0],U=P[1],H=Object(m.g)();return r.a.createElement("div",{style:{width:"300px"}},r.a.createElement("h2",null,"Cadastrar Paciente"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),D({name:a,phone:s,height:E,weight:g,rghg:O,cpf:I,birthDate:F,password:T}).then((function(e){H.push("/pacientes")})).catch((function(){return alert("nao foi possivel adicionar o paciente")}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nameInput"},"Nome"),r.a.createElement("input",{value:a,type:"text",onChange:function(e){return l(e.target.value)},className:"form-control",id:"nameInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"weightInput"},"Peso (kg)"),r.a.createElement("input",{value:g,type:"number",min:"1",onChange:function(e){return v(e.target.value)},className:"form-control",id:"weightInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"heightInput"},"Altura (cm)"),r.a.createElement("input",{value:E,type:"number",min:"1",onChange:function(e){return h(e.target.value)},className:"form-control",id:"heightInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phoneInput"},"Telefone"),r.a.createElement("input",{value:s,type:"tel",onChange:function(e){return i(e.target.value)},className:"form-control",id:"phoneInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"rghgInput"},"RGHG"),r.a.createElement("input",{value:O,type:"text",onChange:function(e){return y(e.target.value)},className:"form-control",id:"rghgInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cpfInput"},"CPF"),r.a.createElement("input",{value:I,type:"text",onChange:function(e){return k(e.target.value)},className:"form-control",id:"cpfInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"dataInput"},"Data de Nascimento"),r.a.createElement("input",{value:F,type:"date",onChange:function(e){return A(e.target.value)},className:"form-control",id:"dataInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordInput"},"Senha"),r.a.createElement("input",{value:T,type:"text",onChange:function(e){return U(e.target.value)},className:"form-control",id:"passwordInput"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Adicionar")))},W=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),s=u[0],i=u[1],d=Object(n.useState)(""),p=Object(o.a)(d,2),E=p[0],h=p[1],b=Object(n.useState)(""),f=Object(o.a)(b,2),g=f[0],v=f[1],N=Object(m.g)();return r.a.createElement("div",{style:{width:"300px"}},r.a.createElement("h2",null,"Cadastro de Usu\xe1rio"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),J({name:a,rghg:s,password:E,type:g}).then((function(e){N.push("/usuarios")})).catch((function(){return alert("nao foi possivel adicionar o profissional")}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"nameInput"},"Nome"),r.a.createElement("input",{value:a,type:"text",onChange:function(e){return l(e.target.value)},className:"form-control",id:"nameInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"rghgInput"},"RGHG"),r.a.createElement("input",{value:s,type:"text",onChange:function(e){return i(e.target.value)},className:"form-control",id:"rghgInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordInput"},"Senha"),r.a.createElement("input",{value:E,type:"text",onChange:function(e){return h(e.target.value)},className:"form-control",id:"passwordInput"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"typeInput"},"Tipo"),r.a.createElement("select",{id:"typeInput",name:"tipo",value:g,onChange:function(e){return v(e.target.value)},className:"form-control"},r.a.createElement("option",{value:"profissional"},"Profissional de Sa\xfade"),r.a.createElement("option",{value:"admin"},"Administrador"))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Adicionar"))))},$=function(e){var t=e.user,a=e.setUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(g.a,{bg:"dark",variant:"dark"},r.a.createElement(g.a.Brand,null,"Dashboard"),r.a.createElement(g.a.Toggle,null),r.a.createElement(g.a.Collapse,{className:"justify-content-end"},r.a.createElement(g.a.Text,null,"Logado como ",t.name," ",r.a.createElement(E.a,{variant:"dark",onClick:function(){window.localStorage.removeItem("usuarioLogado"),a(null)}},"Logout"))))),r.a.createElement("main",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-sm-3 col-md-2 bg-light py-3 border-right"},r.a.createElement("nav",{className:"nav nav-pills flex-column"},r.a.createElement(u.c,{className:"nav-item nav-link",to:"/pacientes"},"Pacientes"),r.a.createElement(u.c,{className:"nav-item nav-link",to:"/usuarios"},"Usu\xe1rios"))),r.a.createElement("main",{className:"col-sm-9 col-md-10 bg-white p-4"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/pacientes/cadastro"},r.a.createElement(z,null)),r.a.createElement(m.b,{path:"/pacientes/:id"},r.a.createElement(R,null)),r.a.createElement(m.b,{path:"/pacientes"},r.a.createElement(F,null)),r.a.createElement(m.b,{path:"/usuarios/cadastro"},r.a.createElement(W,null)),r.a.createElement(m.b,{path:"/usuarios"},r.a.createElement(Y,null)),r.a.createElement(m.b,{path:"/"},r.a.createElement(m.a,{to:"/pacientes"})))))))},q=function(){var e=Object(n.useState)(JSON.parse(window.localStorage.getItem("usuarioLogado"))),t=Object(o.a)(e,2),a=t[0],l=t[1];return r.a.createElement(u.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/login"},r.a.createElement(S,{setUser:l})),r.a.createElement(m.b,{path:"/"},a?r.a.createElement($,{user:a,setUser:l}):r.a.createElement(m.a,{to:"/login"}))),r.a.createElement("footer",{className:"text-center bg-dark text-muted p-3 mt-auto"},"O c\xf3digo desse site est\xe1 dispon\xedvel no ",r.a.createElement("a",{href:"https://github.com/bmnascimento/projeto-asma"},"GitHub")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.6d85d630.chunk.js.map